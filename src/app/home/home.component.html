<ng-container *ngIf="servicios; then homeLleno; else homeVacio"></ng-container>

<ng-template #homeVacio>

  <div class="container-fluid body-content h-100 pr-0">
    <div class="row justify-content-center h-100">

      <div class="jumbotron-fluid vcenter fg-bancor">
        <i class="fa fa-spinner fa-5x fa-spin"></i>
      </div>

    </div>
  </div>

</ng-template>

<ng-template #homeLleno>

  <div class="container-fluid body-content h-100 pr-0">

    <div class="row justify-content-center h-100 mr-0">

      <div class="nav-side-menu col-xs-6 col-sm-5 col-md-4 col-lg-3 scrollbar h-100" id="MainMenu">
        <div class="menu-list">
          <ul *ngFor="let servicio of servicios" id="menu-content" class="menu-content collapse out">
            <li data-toggle="collapse" [attr.data-target]="'#Service-'+ servicio.servicioNombre" class="collapsed">
              <a>{{servicio.servicioNombre}}<span class="arrow"></span></a>
            </li>
            <div class="sub-menu collapse" aria-expanded="false" data-parent="#MainMenu"
              [attr.id]="'Service-'+ servicio.servicioNombre">
              <!--      <div  class="sub-menu collapse" aria-expanded="false" [attr.id]="'Service-'+ servicio.servicioNombre">  -->
              <ul *ngFor="let metodo of servicio.metodos">
                <li (click)="getMethod(servicio.servicioNombre, metodo.metodoNombre, metodo.metodoVersion)"
                  [ngClass]="{active: ((serviceSelected == servicio.servicioNombre) && (methodSelected == metodo.metodoNombre) && (versionSelected == metodo.metodoVersion))}">
                  {{metodo.metodoNombre}}<span class="badge badge-pill badge-danger">{{metodo.metodoVersion}}</span>
                </li>
              </ul>
            </div>
          </ul>
        </div>
      </div>

      <div class="col-xs-6 col-sm-7 col-md-8 col-lg-9 pt-3 pb-3 scrollbar h-100" id="detailMethod"
        style="background-color: #F5F5F5;" [ngClass]="{'fade_out': this.fade === true, 'fade_in': this.fade === false}">

        <div *ngIf="metodo">
          <div class="card shadow rounded mb-2">
            <div class="card-header">
              <h5 class="card-title">{{metodo.metodoNombre}}</h5>
            </div>
            <div class="card-body p-0">
              <!--
                  <div *ngIf="metodo.archivo_esquema">
                    <h6 class="card-subtitle text-muted" [ngClass]="{error: !(metodo.archivo_esquema)}">Esquema de solución</h6>
                    <img class="w-100" [src]="metodo.archivo_esquema">
                  </div>
      -->
              <div class="container pl-0 pr-0">
                <!--WSDL/XSD-->
                <!-- Nav tabs -->
                <ul class="nav nav-tabs">
                  <!--
                      <li class="nav-item">
                        <a class="nav-link active" data-toggle="tab" href="#general">General</a>
                      </li>
      -->
                  <li class="nav-item">
                    <a class="nav-link active" data-toggle="tab" href="#patron">Patrón</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" href="#esquema">Esquema</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" href="#wsdl">WSDL</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" href="#xsd">XSD</a>
                  </li>
                  <!--
                      <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Ejemplos</a>
                        <div class="dropdown-menu">
                          <a class="dropdown-item" data-toggle="tab" href="#req">Request</a>
                          <a class="dropdown-item" data-toggle="tab" href="#res_ok">Response OK</a>
                          <a class="dropdown-item" data-toggle="tab" href="#res_err">Response Error</a>
                        </div>
                      </li>
      -->
                  <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" href="#req">Request</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" href="#res_ok">Response OK</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" href="#res_err">Response Error</a>
                  </li>
                </ul>

                <!-- Tab panes -->
                <div class="tab-content">
                  <!--
                      <div id="general" class="container tab-pane active">
                        <app-form-method></app-form-method>
                      </div>
      -->
                  <div id="patron" class="container tab-pane active">
                    <img *ngIf="metodo.archivo_patron" class="w-100" [src]="metodo.archivo_patron">
                    <img *ngIf="!metodo.archivo_patron" class="w-100" src='./assets/Patron_de_disenio.png'>
                  </div>
                  <div id="esquema" class="container tab-pane">
                    <img *ngIf="metodo.archivo_esquema" class="w-100" [src]="metodo.archivo_esquema">
                    <img *ngIf="!metodo.archivo_esquema" class="w-100" src='./assets/Esquema_de_Solucion.png'>
                  </div>
                  <div id="wsdl" class="container tab-pane">
                    <textarea highlight-js ngModel="{{metodo.archivo_wsdl}}"></textarea>
                  </div>
                  <div id="xsd" class="container tab-pane">
                    <textarea highlight-js ngModel="{{metodo.archivo_xsd}}"></textarea>
                  </div>
                  <div id="req" class="container tab-pane">
                    <textarea highlight-js ngModel="{{metodo.request_xml}}"></textarea>
                  </div>
                  <div id="res_ok" class="container tab-pane">
                    <textarea highlight-js ngModel="{{metodo.responseOk_xml}}"></textarea>
                  </div>
                  <div id="res_err" class="container tab-pane">
                    <textarea highlight-js ngModel="{{metodo.responseErr_xml}}"></textarea>
                  </div>
                </div>
              </div> <!-- Container WSDL/XSD -->

            </div> <!-- Card-Body -->
          </div> <!-- Card -->
        </div> <!-- Metodo -->
      </div> <!-- Col-8 -->
    </div> <!-- Row -->
  </div> <!-- Servicio == true -->

</ng-template>
